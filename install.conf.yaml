---
- defaults:
    link:
      relink: true
      force: true
- clean: ["~"]
- shell:
    # Clone NvChad configuration to be overridden by custom config below
    - command: git -C ~/.config/nvim pull || git clone https://github.com/NvChad/NvChad
        ~/.config/nvim --depth 1
- link:
    # tty configurations
    ~/.bashrc: .bashrc
    ~/.dircolors: .dircolors
    ~/.tmux.conf: .tmux.conf
    ~/.theme.tmux: .theme.tmux
    ~/.zshrc: .zshrc
    # Alacritty (terminal emulator)
    ~/.config/alacritty:
      create: true
      glob: true
      path: alacritty
    # Vim
    ~/.config/nvim/lua/custom:
      create: true
      glob: true
      path: nvim
    # Theming
    ~/.themes/nos-dark:
      create: true
      glob: true
      path: gnome/nos-dark
      if: "[ $XDG_SESSION_DESKTOP = gnome ]"
    ~/.config/gtk-4.0/gtk.css: gnome/nos-dark/gtk.css
    ~/.config/gtk-3.0/gtk.css: gnome/nos-dark/gtk.css
    ~/.config/BetterDiscord/themes/nos.theme.css: discord.css
    ~/.config/spicetify/Themes/nos:
      create: true
      glob: true
      path: spotify
      if: "[ $XDG_SESSION_DESKTOP = gnome ]"
    # Audio settings
    ~/.config/wireplumber:
      create: true
      glob: true
      path: wireplumber
      if: "[ $XDG_SESSION_DESKTOP = gnome ]"
    ~/.yabairc:
      path: .yabairc
      if: "[ `uname` = Darwin ]"
    ~/.skhdrc:
      path: .skhdrc
      if: "[ `uname` = Darwin ]"
- shell:
    # Set gnome themes (if running Gnome)
    # - command: gsettings set org.gnome.desktop.interface gtk-theme nos-dark
    #   if: "[ $XDG_SESSION_DESKTOP = gnome ]"
    # - command: gsettings set org.gnome.desktop.wm.preferences theme adw-dark
    #   if: "[ $XDG_SESSION_DESKTOP = gnome ]"
    # Set gnome custom keybinds (if running Gnome)
    - command: ./scripts/set_gnome_keybinds.sh
      if: "[ $XDG_SESSION_DESKTOP = gnome ]"
    # Set alacritty as default terminal emulator (mainly for pop_shell)
    - command: sudo ln -s /usr/bin/alacritty /usr/bin/x-terminal-emulator || true
      if: "[ $XDG_SESSION_DESKTOP = gnome ]"
